/home/codespace/.python/current/bin/python /workspaces/dynamic-scraper/main.py
@Prithiraz ➜ /workspaces/dynamic-scraper (main) $ /home/codespace/.python/current/bin/python /workspaces/dynamic-scraper/main.py
✅ Playwright available for dynamic scraping
⚠️ requests-html not available - using basic requests
✈️ Successfully loaded 82808 airports from cache!
🚀 Starting FlightAlert Pro with INTEGRATED TESTING & MONITORING...
🧪 Includes: Health monitoring, selector updating, automated testing, site change detection
✅ FlightAlert Pro with INTEGRATED TESTING & MONITORING is ready!
🎯 STRICT POLICY: Only real scraped flight data - NO fallbacks or fake prices
🧪 INCLUDES: Comprehensive testing, health monitoring, selector updating, site change detection
🛡️ Enhanced bot protection evasion and multi-source scraping active

🔧 Testing API Endpoints:
   GET /api/run_health_check - Run comprehensive health check
   GET /api/run_quick_tests - Run quick functionality tests
   GET /api/update_selectors - Update CSS selectors from debug files
   GET /api/setup_monitoring - Setup site monitoring baselines
   GET /api/check_site_changes - Check for site structural changes
   GET /api/run_all_tests - Run complete test suite
   GET /api/health_status - Get current system health status
 * Serving Flask app 'main'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.2.117:5000
Press CTRL+C to quit
 * Restarting with stat
✅ Playwright available for dynamic scraping
⚠️ requests-html not available - using basic requests
✈️ Successfully loaded 82808 airports from cache!
🚀 Starting FlightAlert Pro with INTEGRATED TESTING & MONITORING...
🧪 Includes: Health monitoring, selector updating, automated testing, site change detection
✅ FlightAlert Pro with INTEGRATED TESTING & MONITORING is ready!
🎯 STRICT POLICY: Only real scraped flight data - NO fallbacks or fake prices
🧪 INCLUDES: Comprehensive testing, health monitoring, selector updating, site change detection
🛡️ Enhanced bot protection evasion and multi-source scraping active

🔧 Testing API Endpoints:
   GET /api/run_health_check - Run comprehensive health check
   GET /api/run_quick_tests - Run quick functionality tests
   GET /api/update_selectors - Update CSS selectors from debug files
   GET /api/setup_monitoring - Setup site monitoring baselines
   GET /api/check_site_changes - Check for site structural changes
   GET /api/run_all_tests - Run complete test suite
   GET /api/health_status - Get current system health status
 * Debugger is active!
 * Debugger PIN: 119-090-980
^C@Prithiraz ➜ /workspaces/dynamic-scraper (main) $ pip install requests-html
Requirement already satisfied: requests-html in /usr/local/python/3.12.1/lib/python3.12/site-packages (0.10.0)
Requirement already satisfied: requests in /home/codespace/.local/lib/python3.12/site-packages (from requests-html) (2.32.4)
Requirement already satisfied: pyquery in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (2.0.1)
Requirement already satisfied: fake-useragent in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (2.2.0)
Requirement already satisfied: parse in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (1.20.2)
Requirement already satisfied: bs4 in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (0.0.2)
Requirement already satisfied: w3lib in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (2.3.1)
Requirement already satisfied: pyppeteer>=0.0.14 in /usr/local/python/3.12.1/lib/python3.12/site-packages (from requests-html) (0.0.25)
Requirement already satisfied: pyee in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyppeteer>=0.0.14->requests-html) (13.0.0)
Requirement already satisfied: websockets in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyppeteer>=0.0.14->requests-html) (15.0.1)
Requirement already satisfied: appdirs in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyppeteer>=0.0.14->requests-html) (1.4.4)
Requirement already satisfied: urllib3 in /home/codespace/.local/lib/python3.12/site-packages (from pyppeteer>=0.0.14->requests-html) (2.5.0)
Requirement already satisfied: tqdm in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyppeteer>=0.0.14->requests-html) (4.67.1)
Requirement already satisfied: beautifulsoup4 in /home/codespace/.local/lib/python3.12/site-packages (from bs4->requests-html) (4.13.4)
Requirement already satisfied: soupsieve>1.2 in /home/codespace/.local/lib/python3.12/site-packages (from beautifulsoup4->bs4->requests-html) (2.7)
Requirement already satisfied: typing-extensions>=4.0.0 in /home/codespace/.local/lib/python3.12/site-packages (from beautifulsoup4->bs4->requests-html) (4.14.1)
Requirement already satisfied: lxml>=2.1 in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyquery->requests-html) (6.0.0)
Requirement already satisfied: cssselect>=1.2.0 in /usr/local/python/3.12.1/lib/python3.12/site-packages (from pyquery->requests-html) (1.3.0)
Requirement already satisfied: charset_normalizer<4,>=2 in /home/codespace/.local/lib/python3.12/site-packages (from requests->requests-html) (3.4.2)
Requirement already satisfied: idna<4,>=2.5 in /home/codespace/.local/lib/python3.12/site-packages (from requests->requests-html) (3.10)
Requirement already satisfied: certifi>=2017.4.17 in /home/codespace/.local/lib/python3.12/site-packages (from requests->requests-html) (2025.7.9)

[notice] A new release of pip is available: 25.1.1 -> 25.2
[notice] To update, run: python3 -m pip install --upgrade pip
@Prithiraz ➜ /workspaces/dynamic-scraper (main) $ python3 -m pip install --upgrade pip
Requirement already satisfied: pip in /home/codespace/.python/current/lib/python3.12/site-packages (25.1.1)
Collecting pip
  Downloading pip-25.2-py3-none-any.whl.metadata (4.7 kB)
Downloading pip-25.2-py3-none-any.whl (1.8 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.8/1.8 MB 55.5 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 25.1.1
    Uninstalling pip-25.1.1:
      Successfully uninstalled pip-25.1.1
Successfully installed pip-25.2
@Prithiraz ➜ /workspaces/dynamic-scraper (main) $ /home/codespace/.python/current/bin/python /workspaces/dynamic-scraper/main.py
✅ Playwright available for dynamic scraping
⚠️ requests-html not available - using basic requests
✈️ Successfully loaded 82808 airports from cache!
🚀 Starting FlightAlert Pro with INTEGRATED TESTING & MONITORING...
🧪 Includes: Health monitoring, selector updating, automated testing, site change detection
✅ FlightAlert Pro with INTEGRATED TESTING & MONITORING is ready!
🎯 STRICT POLICY: Only real scraped flight data - NO fallbacks or fake prices
🧪 INCLUDES: Comprehensive testing, health monitoring, selector updating, site change detection
🛡️ Enhanced bot protection evasion and multi-source scraping active

🔧 Testing API Endpoints:
   GET /api/run_health_check - Run comprehensive health check
   GET /api/run_quick_tests - Run quick functionality tests
   GET /api/update_selectors - Update CSS selectors from debug files
   GET /api/setup_monitoring - Setup site monitoring baselines
   GET /api/check_site_changes - Check for site structural changes
   GET /api/run_all_tests - Run complete test suite
   GET /api/health_status - Get current system health status
 * Serving Flask app 'main'
 * Debug mode: on
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://10.0.2.117:5000
Press CTRL+C to quit
 * Restarting with stat
✅ Playwright available for dynamic scraping
⚠️ requests-html not available - using basic requests
✈️ Successfully loaded 82808 airports from cache!
🚀 Starting FlightAlert Pro with INTEGRATED TESTING & MONITORING...
🧪 Includes: Health monitoring, selector updating, automated testing, site change detection
✅ FlightAlert Pro with INTEGRATED TESTING & MONITORING is ready!
🎯 STRICT POLICY: Only real scraped flight data - NO fallbacks or fake prices
🧪 INCLUDES: Comprehensive testing, health monitoring, selector updating, site change detection
🛡️ Enhanced bot protection evasion and multi-source scraping active

🔧 Testing API Endpoints:
   GET /api/run_health_check - Run comprehensive health check
   GET /api/run_quick_tests - Run quick functionality tests
   GET /api/update_selectors - Update CSS selectors from debug files
   GET /api/setup_monitoring - Setup site monitoring baselines
   GET /api/check_site_changes - Check for site structural changes
   GET /api/run_all_tests - Run complete test suite
   GET /api/health_status - Get current system health status
 * Debugger is active!
 * Debugger PIN: 119-090-980
127.0.0.1 - - [09/Aug/2025 17:53:34] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [09/Aug/2025 17:53:37] "GET /login HTTP/1.1" 200 -
127.0.0.1 - - [09/Aug/2025 17:53:39] "POST /login HTTP/1.1" 302 -
127.0.0.1 - - [09/Aug/2025 17:53:39] "GET /dashboard HTTP/1.1" 200 -
127.0.0.1 - - [09/Aug/2025 17:53:40] "GET /api/rare_aircraft_spotted HTTP/1.1" 404 -
127.0.0.1 - - [09/Aug/2025 17:53:40] "GET /api/airport_delays HTTP/1.1" 404 -
127.0.0.1 - - [09/Aug/2025 17:53:40] "GET /api/trending_routes HTTP/1.1" 404 -
127.0.0.1 - - [09/Aug/2025 17:53:40] "GET /api/flight_stats HTTP/1.1" 200 -
🔥 REAL PRICE WAR: LHR → AMS on 2025-08-18
🚀 REAL FLIGHT SCRAPING: LHR → AMS on 2025-08-18
🎯 STRICT POLICY: Only real scraped data - ZERO fallbacks or fake prices
   🔍 Skyscanner: LHR→AMS
🎲 STRICT SURPRISE ME: Finding ONLY real destinations under £100
🔍 Checking REAL prices for LHR → PRG
🚀 REAL FLIGHT SCRAPING: LHR → PRG on 2025-08-23
🎯 STRICT POLICY: Only real scraped data - ZERO fallbacks or fake prices
     📄 Got 708 characters from Skyscanner
     🔍 Debug HTML saved to debug_skyscanner_LHR_AMS.html
     🤖 Skyscanner: Bot detection likely triggered
     📊 Skyscanner: Found 0 unique prices, 0 airlines
     ⚠️ Skyscanner: No REAL prices found - check debug file
   🔍 Skyscanner: LHR→AMS
     📄 Got 708 characters from Skyscanner
     🔍 Debug HTML saved to debug_skyscanner_LHR_AMS.html
     🤖 Skyscanner: Bot detection likely triggered
     📊 Skyscanner: Found 0 unique prices, 0 airlines
     ⚠️ Skyscanner: No REAL prices found - check debug file
   🔍 Kayak: LHR→AMS
     📄 Got 160864 characters from Kayak
     🔍 Debug HTML saved to debug_kayak_LHR_AMS.html
     💰 Regex found price: £37
     📊 Kayak: Found 1 unique prices, 0 airlines
     ✅ Kayak found 1 REAL prices
     ✅ Added REAL flight: Verified Kayak Airline £37
   🔍 Momondo: LHR→AMS
     📄 Got 153957 characters from Momondo
     🔍 Debug HTML saved to debug_momondo_LHR_AMS.html
     📊 Momondo: Found 0 unique prices, 0 airlines
     ⚠️ Momondo: No REAL prices found - check debug file
   🔍 Momondo: LHR→AMS
     📄 Got 155612 characters from Momondo
     🔍 Debug HTML saved to debug_momondo_LHR_AMS.html
     💰 Regex found price: £35
     📊 Momondo: Found 1 unique prices, 0 airlines
     ✅ Momondo found 1 REAL prices
     ✅ Added REAL flight: Verified Momondo Airline £35
   🔍 Booking: LHR→AMS
     📄 Got 118734 characters from Booking
     🔍 Debug HTML saved to debug_booking_LHR_AMS.html
     📊 Booking: Found 0 unique prices, 0 airlines
     ⚠️ Booking: No REAL prices found - check debug file
   🔍 Ryanair: LHR→AMS
     📄 Got 3221 characters from Ryanair
     🔍 Debug HTML saved to debug_ryanair_LHR_AMS.html
     📊 Ryanair: Found 0 unique prices, 0 airlines
     ⚠️ Ryanair: No REAL prices found - check debug file
   🔍 Wizz Air: LHR→AMS
     📄 Got 1571379 characters from Wizz Air
     🔍 Debug HTML saved to debug_wizz air_LHR_AMS.html
     🤖 Wizz Air: Bot detection likely triggered
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £200
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £500
     💰 Regex found price: £100
     💰 Regex found price: £100
     💰 Regex found price: £29
     💰 Regex found price: £19
     💰 Regex found price: £19
     💰 Regex found price: £500
     💰 Regex found price: £200
     💰 Regex found price: £19
     💰 Regex found price: £19
     💰 Regex found price: £896
     💰 Regex found price: £1500
     💰 Regex found price: £1500
     💰 Regex found price: £1500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £250
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £896
     💰 Regex found price: £896
     💰 Regex found price: £50
     💰 Regex found price: £50
     💰 Regex found price: £50
     💰 Regex found price: £50
     💰 Regex found price: £50
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £500
     💰 Regex found price: £1500
     💰 Regex found price: £500
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £200
     💰 Regex found price: £50
     💰 Regex found price: £50
     📊 Wizz Air: Found 9 unique prices, 1 airlines
     ✅ Wizz Air found 9 REAL prices
     ✅ Added REAL flight: Something went wrong at our end £19
     ✅ Added REAL flight: Verified Wizz Air Airline £29
     ✅ Added REAL flight: Verified Wizz Air Airline £50
   🔍 easyJet: LHR→AMS
     📄 Got 285518 characters from easyJet
     🔍 Debug HTML saved to debug_easyjet_LHR_AMS.html
     📊 easyJet: Found 0 unique prices, 0 airlines
     ⚠️ easyJet: No REAL prices found - check debug file

📊 SCRAPER HEALTH SUMMARY:
   ✅ Working: 3
   🤖 Bot blocked: 3
   ❌ Broken URLs: 0
   ⚠️ No data: 6
   📈 Success rate: 25.0%
   💾 Health report saved to scraper_health.json
✅ Enhanced static scraping: 5 real flights
     🔍 Google Flights Enhanced: https://www.google.com/travel/flights?q=Flights%20from%20LHR%20to%20AMS%20on%202025-08-18&curr=GBP
     🔍 Expedia Enhanced: https://www.expedia.com/Flights-Search?trip=oneway&leg1=from:LHR,to:AMS,departure:08/18/2025